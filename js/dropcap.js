!function(){"use strict";function e(e){var t=parseFloat(e.fontSize),n="normal"===e.lineHeight?u*t:parseFloat(e.lineHeight);return{leading:n-t,lineHeight:n,fontSize:t}}function t(e){var t=e.createElement("div");return t.style.position="fixed",t.style.padding=g,t.style.opacity="0",t.style.fontSize=h,t.style.lineHeight="1",e.body.appendChild(t),t}function n(e){var t=e.ownerDocument.createElement("span");return t.textContent=p,e&&e.appendChild(t),t}function i(e){e.ownerDocument.body.removeChild(e)}function a(e,t,n,i){function a(e,t){var n=4*t,i=e.data[n],a=e.data[n+1],o=e.data[n+2];return 0===i||0===a||0===o?!0:!1}var o=-1,r=document.createElement("canvas");r.width=n,r.height=i,e.appendChild(r);var l=r.getContext("2d");l.font=h+" "+t,l.fillStyle="#ffffff",l.fillRect(0,0,l.canvas.width,l.canvas.height),l.fillStyle="#000000",l.textBaseline="top",l.fillText("E",0,0);for(var s=l.getImageData(Math.ceil(r.width/2),0,1,r.height),c=null,f=r.height-1;f>=0;f--)if(a(s,f)){c=f;break}for(var f=0;f<r.height;f++)if(a(s,f)){o=(c+1-f)/i;break}return o}function o(e,o){var r=y[o];if(r)return r;r={baselineRatio:void 0,capHeightRatio:void 0};var l=t(e);l.style.fontFamily=o;var s=n(l);s.style.fontSize=g;var c=n(l);r.baselineRatio=s.offsetTop/d;try{r.capHeightRatio=a(l,o,c.offsetWidth,d)}catch(f){throw new Error("[dropcap.js] Error computing font metrics: "+f.message)}finally{i(l)}return y[o]=r,r}function r(e){return e+"px"}function l(e){return e.classList.contains(v)?!0:void 0}function s(e){var t="gjpqQ";return-1===t.indexOf(e.textContent)?!1:!0}function c(e){e.dcapjs&&(e.style.cssFloat="",e.style.padding="",e.style.fontSize="",e.style.lineHeight="",e.style.marginTop="")}function f(t,n,i){if(i||(i=n),1==i&&1==n)return void c(t);var a=t.ownerDocument,f=t,p=f.parentNode,d=window.getComputedStyle(f),h=window.getComputedStyle(p),u=o(a,d.fontFamily),y=o(a,h.fontFamily),v=u.capHeightRatio,m=e(h),w=(y.baselineRatio-y.capHeightRatio)*m.fontSize,H=n*m.lineHeight-m.leading-w-(1-y.baselineRatio)*m.fontSize,S=H/v;f.dcapjs=!0,f.style.cssFloat="left",f.style.padding=g,f.style.fontSize=r(S),f.style.lineHeight=g;var b=m.leading/2+w;if(b-=(n-i)*m.lineHeight,f.style.marginTop=r(b),n>i){var x=parseFloat(h.marginTop);p.style.marginTop=r(x+-1*b)}var E=0;s(f)?E=S*(1-u.baselineRatio):l(f)&&(E=S-H),f.style.height=r(H+E);var R=f.dcapjsStrut;R||(R=a.createElement("span"),R.style.display="inline-block",f.appendChild(R),f.dcapjsStrut=R),R.style.height=r(H)}var p="X",d=100,h=d+"px",g="0px",u=1.15,y={},v="dcjs-descender";window.Dropcap={layout:function(e,t,n){if(1>t||n&&1>n)throw new RangeError("Dropcap.layout expects the baseline position and height to be 1 or above");if(e instanceof HTMLElement)f(e,t,n);else{if(!(e instanceof NodeList))throw new TypeError("Dropcap.layout expects a single HTMLElement or a NodeList");var i=Array.prototype.forEach;i.call(e,function(e){f(e,t,n)})}}}}();